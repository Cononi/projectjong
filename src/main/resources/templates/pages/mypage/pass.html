<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="layout/default-mypage">


<head>
    <title>내 정보</title>
</head>

<th:block layout:fragment="content">
    <th:block th:if="${profileSuccess}">
        <div class="card-body" th:with="auth=${userinfo}">
            <div id="auth">
                <div id="auth-left">
                    <div class="text-center">
                        <h1 class="auth-title">비밀번호 변경</h1>
                        <p class="auth-subtitle mb-3">변경할 비밀번호를 입력해주세요.</p>
                    </div>
                    <form autocomplete="off" th:action="@{/account/pass-change}" th:object="${userPassChange}" method="post">
                        <input type="hidden" class="form-control form-control-xl form-user-input">
                        <div class="form-group position-relative has-icon-left" th:classappend="${password} ? 'mb-10' : ''">
                            <input type="password" class="form-control form-control-xl form-user-input"
                                placeholder="신규 비밀번호" th:field="*{password}">
                            <div class="form-control-icon">
                                <i class="bi bi-aspect-ratio"></i>
                            </div>
                            <div id="validationServerNameFeedback" class="invalid-feedback">
                                <i class="bi bi-check mb-4"></i>
                                <span></span>
                            </div>
                        </div>
                        <div class="form-group position-relative has-icon-left">
                            <input type="password" class="form-control form-control-xl form-user-input" placeholder="신규 비밀번호 확인"
                                th:field="*{confirmPassword}">
                            <div class="form-control-icon">
                                <i class="bi bi-aspect-ratio"></i>
                            </div>
                            <div id="validationServeremailFeedback" class="invalid-feedback">
                                <i class="bi bi-check mb-4"></i>
                                <span></span>
                            </div>
                        </div>
                        <input type="hidden" name="_method" value="put">
                        <!-- <label for="formFileLg" class="form-label">프로필 이미지 변경</label>
                                <input class="form-control form-control-lg" id="formFileLg" type="file" /> -->
                        <button class="btn btn-primary btn-block btn-lg shadow-lg mt-3" type="button" disabled=""
                            hidden="true" id="btn-signon">
                            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                            <span class="visually-hidden">Loading...</span>
                        </button>
                        <div>
                            <i th:if="${errorProfileMsg}" class="bi bi-check mb-4"></i>
                            <span class="auth-subtitle mb-3" th:text="${errorProfileMsg} ?: ''"></span>
                        </div>

                        <button class="btn btn-primary btn-block btn-lg shadow-lg mt-3" id="btn-sign">
                            확인</button>

                    </form>
                </div>
            </div>
        </div>
    </th:block>
    <th:block th:unless="${profileSuccess}">
        <div class="card-body">
            <div id="auth">
                <div id="auth-left">
                    <label for="profileImage" class="form-label">비밀번호 입력</label>
                    <div class="form-group position-relative">
                        <form th:action="@{/account/pass-change}" method="post">
                            <input id="passwordAuth" name="passwordAuth" value="" class="form-control form-control-xl"
                                type="password" />
                            <button class="btn btn-primary btn-block btn-lg shadow-lg mt-3" id="btn-sign">
                                확인</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </th:block>
</th:block>

</html>